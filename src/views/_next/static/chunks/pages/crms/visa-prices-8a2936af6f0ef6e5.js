(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1683],{21317:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/crms/visa-prices",function(){return s(71326)}])},71326:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return M}});var i=s(85893),n=s(67294),a=s(80562),l=s(73812),t=s(31538),o=s(29630),c=s(79072),d=s(49837),u=s(59742),x=s(61953),m=s(75084),h=s(91359),p=s(18661),j=s(1890),Z=s(77745),v=s(95398),g=s(55343),y=s(58316),f=s(53442),_=s(32631),C=s(67836),b=s(22841),S=s(75158),T=s(45670),W=s(8769),P=s(55050),k=s(94314),w=s(5464),z=s(21609),I=s(98966);s(21840);var B=s(74231),V=s(47533),Q=s(87536),q=s(86501);let N=e=>{let{id:r,editPrice:s,deletePrice:o}=e,[c,d]=(0,n.useState)(null),u=Boolean(c),x=e=>{d(e.currentTarget)},m=()=>{d(null)},h=()=>{s(r),m()},p=()=>{o(r),m()};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{size:"small",onClick:x,children:(0,i.jsx)(z.Z,{icon:"mdi:dots-vertical"})}),(0,i.jsxs)(l.Z,{keepMounted:!0,anchorEl:c,open:u,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{minWidth:"8rem"}},children:[(0,i.jsxs)(t.Z,{onClick:h,sx:{"& svg":{mr:2}},children:[(0,i.jsx)(z.Z,{icon:"mdi:pencil-outline",fontSize:20}),"Edit"]}),(0,i.jsxs)(t.Z,{onClick:p,sx:{"& svg":{mr:2}},children:[(0,i.jsx)(z.Z,{icon:"mdi:delete-outline",fontSize:20}),"Delete"]})]})]})},E=e=>{let{occupationTypes:r}=e,[s,l]=(0,n.useState)(!0),[c,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(10),[p,b]=(0,n.useState)([]),[S,T]=(0,n.useState)(!1),[W,P]=(0,n.useState)(!1),[k,E]=(0,n.useState)(0),D={visaType:"",price:0},O=B.Ry().shape({visaType:B.Z_().required("Visa type is required field."),price:B.Rx("Price must be numeric").required("Price is required field.")}),{reset:R,control:F,handleSubmit:M,formState:{errors:X}}=(0,Q.cI)({defaultValues:D,mode:"onChange",resolver:(0,V.X)(O)}),{reset:A,control:H,handleSubmit:G,formState:{errors:U}}=(0,Q.cI)({defaultValues:D,mode:"onChange",resolver:(0,V.X)(O)});(0,n.useEffect)(()=>{let e=async()=>{let{data:e}=await w.Z.get("crms/visa-prices",{params:{search:c}});b(e),console.log("prices :>> ",e)};e()},[s,c,u]);let L=()=>{R({visaType:r[0]._id,price:0}),T(!0)},J=async e=>{let{data:r}=await w.Z.post("crms/visa-prices",e);r.status?(R(D),T(!1),l(!s),q.ZP.success(r.msg)):q.ZP.error(r.msg)},K=async e=>{E(e);let{data:r}=await w.Z.get("crms/visa-prices/".concat(e));A({visaType:r.visaType,price:r.price}),P(!0)},Y=async e=>{let{data:r}=await w.Z.put("crms/visa-prices/".concat(k),e);r.status?(A(D),P(!1),l(!s),q.ZP.success(r.msg)):q.ZP.error(r.msg)},$=async e=>{let{data:r}=await w.Z.delete("crms/visa-prices/".concat(e));r.status?(l(!s),q.ZP.success(r.msg)):q.ZP.error(r.msg)};return(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(x.Z,{sx:{pl:0,pr:0,pt:0,pb:0,display:"flex",flex:1,flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end"},children:(0,i.jsxs)(x.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[(0,i.jsx)(C.Z,{size:"small",value:c,sx:{mr:6,mb:2},placeholder:"Search visa...",onChange:e=>d(e.target.value)}),(0,i.jsxs)(m.Z,{sx:{mb:2},onClick:L,variant:"contained",children:[(0,i.jsx)(z.Z,{icon:"mdi:plus"})," Add Price"]})]})}),(0,i.jsx)(I._,{autoHeight:!0,getRowId:e=>e._id,rows:p,columns:[{flex:5,minWidth:230,field:"visaType",headerName:"Visa Price",renderCell(e){let{row:r}=e;return(0,i.jsxs)(o.Z,{noWrap:!0,children:[r.visa[0].name," - ",r.visa[0].issue_duration," Working Days - ",r.visa[0].stay_duration," "]})}},{flex:1,minWidth:80,field:"price",headerName:"Price",renderCell(e){let{row:r}=e;return(0,i.jsxs)(o.Z,{noWrap:!0,children:["\xa3",r.price]})}},{flex:.8,width:80,sortable:!1,field:"actions",headerName:"Actions",renderCell(e){let{row:r}=e;return(0,i.jsx)(N,{id:r._id,editPrice:K,deletePrice:$})}}],pageSize:u,sx:{"& .MuiDataGrid-columnHeaders":{borderRadius:0}},onPageSizeChange:e=>h(e)}),(0,i.jsxs)(j.Z,{fullWidth:!0,maxWidth:"sm",onClose:()=>T(!1),open:S,children:[(0,i.jsxs)(Z.Z,{children:["New Price",(0,i.jsx)(a.Z,{onClick:()=>T(!1),sx:{position:"absolute",right:18,top:18,color:"#aaaaaa"},children:(0,i.jsx)(z.Z,{icon:"mdi:close"})})]}),(0,i.jsx)(v.Z,{sx:{p:6},children:(0,i.jsxs)("form",{onSubmit:M(J),style:{paddingTop:8},children:[(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(y.Z,{id:"visa-type",error:Boolean(X.visaType),htmlFor:"visa-type",children:"Visa Type"}),(0,i.jsx)(Q.Qr,{id:"visa-type",name:"visaType",control:F,rules:{required:!0},render(e){let{field:{value:s,onChange:n}}=e;return(0,i.jsx)(f.Z,{value:s,label:"Visa Type",onChange:n,error:Boolean(X.visaType),children:r.map((e,r)=>(0,i.jsxs)(t.Z,{value:e._id,children:[e.name," - ",e.issue_duration," Working Days - ",e.stay_duration," "]},r))})}}),X.visaType&&(0,i.jsx)(_.Z,{sx:{color:"error.main"},children:X.visaType.message})]}),(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(Q.Qr,{name:"price",control:F,rules:{required:!0},render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(C.Z,{value:r,label:"Visa Price",onChange:s,placeholder:"100",error:Boolean(X.price)})}}),X.price&&(0,i.jsx)(_.Z,{sx:{color:"error.main"},children:X.price.message})]}),(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,i.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:content-save"}),sx:{mr:4},children:"Save"}),(0,i.jsx)(m.Z,{variant:"contained",color:"error",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:delete"}),onClick:()=>T(!1),children:"Cancel"})]})]})})]}),(0,i.jsxs)(j.Z,{fullWidth:!0,maxWidth:"sm",onClose:()=>P(!1),open:W,children:[(0,i.jsxs)(Z.Z,{children:["Edit Price",(0,i.jsx)(a.Z,{onClick:()=>P(!1),sx:{position:"absolute",right:18,top:18,color:"#aaaaaa"},children:(0,i.jsx)(z.Z,{icon:"mdi:close"})})]}),(0,i.jsx)(v.Z,{sx:{p:6},children:(0,i.jsxs)("form",{onSubmit:G(Y),style:{paddingTop:8},children:[(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(y.Z,{id:"visa-type",error:Boolean(U.visaType),htmlFor:"visa-type",children:"Visa Type"}),(0,i.jsx)(Q.Qr,{id:"visa-type",name:"visaType",control:H,rules:{required:!0},render(e){let{field:{value:s,onChange:n}}=e;return(0,i.jsx)(f.Z,{readOnly:!0,value:s,label:"Visa Type",onChange:n,error:Boolean(U.visaType),children:r.map((e,r)=>(0,i.jsx)(t.Z,{value:e._id,children:e.name},r))})}}),U.visaType&&(0,i.jsx)(_.Z,{sx:{color:"error.main"},children:U.visaType.message})]}),(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(Q.Qr,{name:"price",control:H,rules:{required:!0},render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(C.Z,{value:r,label:"Visa Price",onChange:s,placeholder:"100",error:Boolean(U.price)})}}),U.price&&(0,i.jsx)(_.Z,{sx:{color:"error.main"},children:U.price.message})]}),(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,i.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:content-save"}),sx:{mr:4},children:"Update"}),(0,i.jsx)(m.Z,{variant:"contained",color:"error",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:delete"}),onClick:()=>P(!1),children:"Cancel"})]})]})})]})]})},D=e=>{let{id:r,editPrice:s,deletePrice:o}=e,[c,d]=(0,n.useState)(null),u=Boolean(c),x=e=>{d(e.currentTarget)},m=()=>{d(null)},h=()=>{s(r),m()},p=()=>{o(r),m()};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{size:"small",onClick:x,children:(0,i.jsx)(z.Z,{icon:"mdi:dots-vertical"})}),(0,i.jsxs)(l.Z,{keepMounted:!0,anchorEl:c,open:u,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{minWidth:"8rem"}},children:[(0,i.jsxs)(t.Z,{onClick:h,sx:{"& svg":{mr:2}},children:[(0,i.jsx)(z.Z,{icon:"mdi:pencil-outline",fontSize:20}),"Edit"]}),(0,i.jsxs)(t.Z,{onClick:p,sx:{"& svg":{mr:2}},children:[(0,i.jsx)(z.Z,{icon:"mdi:delete-outline",fontSize:20}),"Delete"]})]})]})},O=e=>{let{occupationTypes:r,category:s}=e,[l,c]=(0,n.useState)(!0),[d,u]=(0,n.useState)(""),[h,p]=(0,n.useState)(10),[b,S]=(0,n.useState)([]),[T,W]=(0,n.useState)(!1),[P,k]=(0,n.useState)(!1),[N,E]=(0,n.useState)(0),O={visaType:"",price:0},R=B.Ry().shape({visaType:B.Z_().required("Visa type is required field."),price:B.Rx("Price must be numeric").required("Price is required field.")}),{reset:F,control:M,handleSubmit:X,formState:{errors:A}}=(0,Q.cI)({defaultValues:O,mode:"onChange",resolver:(0,V.X)(R)}),{reset:H,control:G,handleSubmit:U,formState:{errors:L}}=(0,Q.cI)({defaultValues:O,mode:"onChange",resolver:(0,V.X)(R)});(0,n.useEffect)(()=>{let e=async()=>{let{data:e}=await w.Z.get("crms/agent-visa-prices",{params:{search:d,categoryId:s._id}});S(e)};e()},[l,d,h]);let J=()=>{F({visaType:r[0]._id,price:0}),W(!0)},K=async e=>{e.category=s._id;let{data:r}=await w.Z.post("crms/agent-visa-prices",e);r.status?(F(O),W(!1),c(!l),q.ZP.success(r.msg)):q.ZP.error(r.msg)},Y=async e=>{E(e);let{data:r}=await w.Z.get("crms/agent-visa-prices/".concat(e));H({visaType:r.visaType,price:r.price}),k(!0)},$=async e=>{let{data:r}=await w.Z.put("crms/agent-visa-prices/".concat(N),e);r.status?(H(O),k(!1),c(!l),q.ZP.success(r.msg)):q.ZP.error(r.msg)},ee=async e=>{let{data:r}=await w.Z.delete("crms/agent-visa-prices/".concat(e));r.status?(c(!l),q.ZP.success(r.msg)):q.ZP.error(r.msg)};return(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(x.Z,{sx:{pl:0,pr:0,pt:0,pb:0,display:"flex",flex:1,flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end"},children:(0,i.jsxs)(x.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[(0,i.jsx)(C.Z,{size:"small",value:d,sx:{mr:6,mb:2},placeholder:"Search visa...",onChange:e=>u(e.target.value)}),(0,i.jsxs)(m.Z,{sx:{mb:2},onClick:J,variant:"contained",children:[(0,i.jsx)(z.Z,{icon:"mdi:plus"})," Add Price"]})]})}),(0,i.jsx)(I._,{autoHeight:!0,getRowId:e=>e._id,rows:b,columns:[{flex:5,minWidth:230,field:"visaType",headerName:"Visa Price",renderCell(e){let{row:r}=e;return(0,i.jsxs)(o.Z,{noWrap:!0,children:[r.visa[0].name," - ",r.visa[0].issue_duration," Working Days - ",r.visa[0].stay_duration]})}},{flex:1,minWidth:60,field:"price",headerName:"Price",renderCell(e){let{row:r}=e;return(0,i.jsxs)(o.Z,{noWrap:!0,children:["\xa3",r.price]})}},{flex:.8,width:60,sortable:!1,field:"actions",headerName:"Actions",renderCell(e){let{row:r}=e;return(0,i.jsx)(D,{id:r._id,editPrice:Y,deletePrice:ee})}}],pageSize:h,sx:{"& .MuiDataGrid-columnHeaders":{borderRadius:0}},onPageSizeChange:e=>p(e)}),(0,i.jsxs)(j.Z,{fullWidth:!0,maxWidth:"sm",onClose:()=>W(!1),open:T,children:[(0,i.jsxs)(Z.Z,{children:["New Price",(0,i.jsx)(a.Z,{onClick:()=>W(!1),sx:{position:"absolute",right:18,top:18,color:"#aaaaaa"},children:(0,i.jsx)(z.Z,{icon:"mdi:close"})})]}),(0,i.jsx)(v.Z,{sx:{p:6},children:(0,i.jsxs)("form",{onSubmit:X(K),style:{paddingTop:8},children:[(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(y.Z,{id:"visa-type",error:Boolean(A.visaType),htmlFor:"visa-type",children:"Visa Type"}),(0,i.jsx)(Q.Qr,{id:"visa-type",name:"visaType",control:M,rules:{required:!0},render(e){let{field:{value:s,onChange:n}}=e;return(0,i.jsx)(f.Z,{value:s,label:"Visa Type",onChange:n,error:Boolean(A.visaType),children:r.map((e,r)=>(0,i.jsxs)(t.Z,{value:e._id,children:[e.name," - ",e.issue_duration," Working Days - ",e.stay_duration," "]},r))})}}),A.visaType&&(0,i.jsx)(_.Z,{sx:{color:"error.main"},children:A.visaType.message})]}),(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(Q.Qr,{name:"price",control:M,rules:{required:!0},render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(C.Z,{value:r,label:"Visa Price",onChange:s,placeholder:"100",error:Boolean(A.price)})}}),A.price&&(0,i.jsx)(_.Z,{sx:{color:"error.main"},children:A.price.message})]}),(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,i.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:content-save"}),sx:{mr:4},children:"Save"}),(0,i.jsx)(m.Z,{variant:"contained",color:"error",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:delete"}),onClick:()=>W(!1),children:"Cancel"})]})]})})]}),(0,i.jsxs)(j.Z,{fullWidth:!0,maxWidth:"sm",onClose:()=>k(!1),open:P,children:[(0,i.jsxs)(Z.Z,{children:["Edit Price",(0,i.jsx)(a.Z,{onClick:()=>k(!1),sx:{position:"absolute",right:18,top:18,color:"#aaaaaa"},children:(0,i.jsx)(z.Z,{icon:"mdi:close"})})]}),(0,i.jsx)(v.Z,{sx:{p:6},children:(0,i.jsxs)("form",{onSubmit:U($),style:{paddingTop:8},children:[(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(y.Z,{id:"visa-type",error:Boolean(L.visaType),htmlFor:"visa-type",children:"Visa Type"}),(0,i.jsx)(Q.Qr,{id:"visa-type",name:"visaType",control:G,rules:{required:!0},render(e){let{field:{value:s,onChange:n}}=e;return(0,i.jsx)(f.Z,{readOnly:!0,value:s,label:"Visa Type",onChange:n,error:Boolean(L.visaType),children:r.map((e,r)=>(0,i.jsx)(t.Z,{value:e._id,children:e.name},r))})}}),L.visaType&&(0,i.jsx)(_.Z,{sx:{color:"error.main"},children:L.visaType.message})]}),(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(Q.Qr,{name:"price",control:G,rules:{required:!0},render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(C.Z,{value:r,label:"Visa Price",onChange:s,placeholder:"100",error:Boolean(L.price)})}}),L.price&&(0,i.jsx)(_.Z,{sx:{color:"error.main"},children:L.price.message})]}),(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,i.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:content-save"}),sx:{mr:4},children:"Update"}),(0,i.jsx)(m.Z,{variant:"contained",color:"error",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:delete"}),onClick:()=>k(!1),children:"Cancel"})]})]})})]})]})},R=e=>{let{row:r,editVisa:s,deleteVisa:o}=e,[c,d]=(0,n.useState)(null),u=Boolean(c),x=e=>{d(e.currentTarget)},m=()=>{d(null)},h=()=>{s(r),m()},p=()=>{o(r._id),m()};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{size:"small",onClick:x,children:(0,i.jsx)(z.Z,{icon:"mdi:dots-vertical"})}),(0,i.jsxs)(l.Z,{keepMounted:!0,anchorEl:c,open:u,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{minWidth:"8rem"}},children:[(0,i.jsxs)(t.Z,{onClick:h,sx:{"& svg":{mr:2}},children:[(0,i.jsx)(z.Z,{icon:"mdi:pencil-outline",fontSize:20}),"Edit"]}),(0,i.jsxs)(t.Z,{onClick:p,sx:{"& svg":{mr:2}},children:[(0,i.jsx)(z.Z,{icon:"mdi:delete-outline",fontSize:20}),"Delete"]})]})]})},F=()=>{let[e,r]=(0,n.useState)("0"),[s,l]=(0,n.useState)([]),[k,N]=(0,n.useState)([]),[D,F]=(0,n.useState)([]),[M,X]=(0,n.useState)([]),[A,H]=(0,n.useState)(!1),[G,U]=(0,n.useState)(10),[L,J]=(0,n.useState)(!1),[K,Y]=(0,n.useState)(!1),[$,ee]=(0,n.useState)(0),er={name:"",stay_duration:"30",issue_duration:7,save_travel_cost:!0,need_visit_consulate:!0,deliver_to_door:!0,online_auto_tracking:!0,is_most_popular:!1},es=B.Ry().shape({name:B.Z_().required("Occupation is required field."),stay_duration:B.Z_().required("Duration of stay is required field."),issue_duration:B.Rx().required("Issue duration is required field.")}),{reset:ei,control:en,handleSubmit:ea,formState:{errors:el}}=(0,Q.cI)({defaultValues:er,mode:"onChange",resolver:(0,V.X)(es)}),{reset:et,control:eo,handleSubmit:ec,formState:{errors:ed}}=(0,Q.cI)({defaultValues:er,mode:"onChange",resolver:(0,V.X)(es)});(0,n.useEffect)(()=>{let e=async()=>{let{data:e}=await w.Z.get("crms/categories");l(e)},r=async()=>{let{data:e}=await w.Z.get("crms/visa-types");console.log("data :>> ",e),N(e)},s=async()=>{let{data:e}=await w.Z.get("crms/visa-durations");console.log("duration :>> ",e),X(e)},i=async()=>{let{data:e}=await w.Z.get("crms/occupation-items");console.log("setOccupationItems :>> ",e),F(e)};i(),s(),e(),r()},[A,G]);let eu=(e,s)=>{r(s)},ex=e=>{ee(e._id),et({name:e.name,stay_duration:e.stay_duration,issue_duration:e.issue_duration,save_travel_cost:e.save_travel_cost,need_visit_consulate:e.need_visit_consulate,deliver_to_door:e.deliver_to_door,online_auto_tracking:e.online_auto_tracking,is_most_popular:!!e.is_most_popular}),Y(!0)},em=async e=>{console.log("visa :>> ",e);let{data:r}=await w.Z.post("crms/visa-types",e);r.status?(ei(er),J(!1),H(!A),q.ZP.success(r.msg)):q.ZP.error(r.msg)},eh=async e=>{let{data:r}=await w.Z.put("crms/visa-types/".concat($),e);r.status?(et(er),Y(!1),H(!A),q.ZP.success(r.msg)):q.ZP.error(r.msg)},ep=async e=>{let{data:r}=await w.Z.delete("crms/visa-types/".concat(e));r.status?(H(!A),q.ZP.success(r.msg)):q.ZP.error(r.msg)};return(0,i.jsxs)(c.ZP,{container:!0,spacing:6,children:[(0,i.jsx)(c.ZP,{item:!0,md:6,sm:12,children:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(u.Z,{title:(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(o.Z,{variant:"h5",children:"Visa Types Management"}),(0,i.jsx)(x.Z,{sx:{pl:0,pr:0,pt:0,pb:0,display:"flex",flex:1,flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end"},children:(0,i.jsx)(x.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:(0,i.jsxs)(m.Z,{sx:{mb:2},onClick:()=>J(!0),variant:"contained",children:[(0,i.jsx)(z.Z,{icon:"mdi:plus"})," Add Type"]})})})]})}),(0,i.jsx)(h.Z,{children:(0,i.jsx)(I._,{autoHeight:!0,getRowId:e=>e._id,rows:k,columns:[{flex:2,field:"name",headerName:"Visa Type",renderCell(e){let{row:r}=e;return(0,i.jsx)(o.Z,{noWrap:!0,children:r.name})}},{flex:1,field:"stay_duration",headerName:"Duration",renderCell(e){let{row:r}=e;return(0,i.jsx)(o.Z,{noWrap:!0,children:r.stay_duration})}},{flex:.5,field:"actions",headerName:"Actions",renderCell(e){let{row:r}=e;return(0,i.jsx)(R,{row:r,editVisa:ex,deleteVisa:ep})}}],pageSize:G,sx:{"& .MuiDataGrid-columnHeaders":{borderRadius:0}},onPageSizeChange:e=>U(e)})})]})}),(0,i.jsx)(c.ZP,{item:!0,md:6,sm:12,children:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(u.Z,{title:(0,i.jsx)(x.Z,{sx:{display:"flex",alignItems:"center"},children:(0,i.jsx)(o.Z,{variant:"h5",children:"Visa Prices Management"})})}),(0,i.jsx)(h.Z,{children:(0,i.jsxs)(T.ZP,{value:e,children:[(0,i.jsxs)(W.Z,{scrollButtons:!0,variant:"scrollable",onChange:eu,children:[(0,i.jsx)(p.Z,{value:"0",label:"Global Prices"}),s.map((e,r)=>(0,i.jsx)(p.Z,{value:"".concat(r+1),label:e.name},r))]}),(0,i.jsx)(P.Z,{value:"0",children:(0,i.jsx)(E,{occupationTypes:k})}),s.map((e,r)=>(0,i.jsx)(P.Z,{value:"".concat(r+1),children:(0,i.jsx)(O,{occupationTypes:k,category:e})},r))]})})]})}),(0,i.jsxs)(j.Z,{fullWidth:!0,maxWidth:"sm",onClose:()=>J(!1),open:L,children:[(0,i.jsxs)(Z.Z,{children:["New Visa Type",(0,i.jsx)(a.Z,{onClick:()=>J(!1),sx:{position:"absolute",right:18,top:18,color:"#aaaaaa"},children:(0,i.jsx)(z.Z,{icon:"mdi:close"})})]}),(0,i.jsx)(v.Z,{sx:{p:6},children:(0,i.jsxs)("form",{onSubmit:ea(em),style:{paddingTop:8},children:[(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(y.Z,{error:Boolean(el.name),htmlFor:"name",children:"Occupation Type"}),(0,i.jsx)(Q.Qr,{name:"name",control:en,rules:{required:!0},render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(f.Z,{value:r,label:"Occupation Type",onChange:s,error:Boolean(el.name),children:D.map((e,r)=>(0,i.jsx)(t.Z,{value:e.name,children:e.name},r))})}}),el.name&&(0,i.jsx)(_.Z,{sx:{color:"error.main"},children:el.name.message})]}),(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(y.Z,{error:Boolean(el.stay_duration),htmlFor:"duration",children:"Duration of stay"}),(0,i.jsx)(Q.Qr,{id:"stay_duration",name:"stay_duration",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(f.Z,{value:r,label:"Duration of stay",onChange:s,error:Boolean(el.stay_duration),children:M.map((e,r)=>(0,i.jsx)(t.Z,{value:e.duration,children:e.duration},r))})}}),el.stay_duration&&(0,i.jsx)(_.Z,{sx:{color:"error.main"},children:el.stay_duration.message})]}),(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{mb:2},children:[(0,i.jsx)(Q.Qr,{name:"issue_duration",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(C.Z,{type:"number",value:r,label:"Issue duration (days)",onChange:s,error:Boolean(el.issue_duration)})}}),el.issue_duration&&(0,i.jsx)(_.Z,{sx:{color:"error.main"},children:el.issue_duration.message})]}),(0,i.jsx)(g.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"save_travel_cost",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Save travel cost",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(g.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"need_visit_consulate",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"No need visiting the Consular Section",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(g.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"deliver_to_door",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Visa delivered to your door",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(g.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"online_auto_tracking",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Online auto tracking",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(g.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"is_most_popular",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Most popular",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,i.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:content-save"}),sx:{mr:4},children:"Save"}),(0,i.jsx)(m.Z,{variant:"contained",color:"error",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:delete"}),onClick:()=>J(!1),children:"Cancel"})]})]})})]}),(0,i.jsxs)(j.Z,{fullWidth:!0,maxWidth:"sm",onClose:()=>Y(!1),open:K,children:[(0,i.jsxs)(Z.Z,{children:["Edit Visa Type",(0,i.jsx)(a.Z,{onClick:()=>Y(!1),sx:{position:"absolute",right:18,top:18,color:"#aaaaaa"},children:(0,i.jsx)(z.Z,{icon:"mdi:close"})})]}),(0,i.jsx)(v.Z,{sx:{p:6},children:(0,i.jsxs)("form",{onSubmit:ec(eh),style:{paddingTop:8},children:[(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(Q.Qr,{name:"name",control:eo,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(C.Z,{value:r,label:"Name",onChange:s,error:Boolean(ed.name)})}}),ed.name&&(0,i.jsx)(_.Z,{sx:{color:"error.main"},children:ed.name.message})]}),(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(y.Z,{error:Boolean(ed.stay_duration),htmlFor:"duration",children:"Duration of stay"}),(0,i.jsx)(Q.Qr,{id:"stay_duration",name:"stay_duration",control:eo,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(f.Z,{value:r,label:"Duration of stay",onChange:s,error:Boolean(ed.stay_duration),children:M.map((e,r)=>(0,i.jsx)(t.Z,{value:e.duration,children:e.duration},r))})}}),ed.stay_duration&&(0,i.jsx)(_.Z,{sx:{color:"error.main"},children:ed.stay_duration.message})]}),(0,i.jsxs)(g.Z,{fullWidth:!0,sx:{mb:2},children:[(0,i.jsx)(Q.Qr,{name:"issue_duration",control:eo,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(C.Z,{type:"number",value:r,label:"Issue duration (days)",onChange:s,error:Boolean(ed.issue_duration)})}}),ed.issue_duration&&(0,i.jsx)(_.Z,{sx:{color:"error.main"},children:ed.issue_duration.message})]}),(0,i.jsx)(g.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"save_travel_cost",control:eo,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Save travel cost",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(g.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"need_visit_consulate",control:eo,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"No need visiting the Consular Section",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(g.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"deliver_to_door",control:eo,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Visa delivered to your door",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(g.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"online_auto_tracking",control:eo,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Online auto tracking",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(g.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"is_most_popular",control:eo,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Most popular",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,i.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:content-save"}),sx:{mr:4},children:"Update"}),(0,i.jsx)(m.Z,{variant:"contained",color:"error",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:delete"}),onClick:()=>Y(!1),children:"Cancel"})]})]})})]})]})};F.getLayout=e=>(0,i.jsx)(k.Z,{children:e});var M=F}},function(e){e.O(0,[6284,9799,4583,3816,3951,7836,9072,9491,9317,7985,4297,4314,1840,9774,2888,179],function(){return e(e.s=21317)}),_N_E=e.O()}]);